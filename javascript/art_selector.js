/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//VARIABLES//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const checkboxes = document.querySelectorAll('.filter-checkbox');
const artItems = document.querySelectorAll('.artItem-div');
var numImgGoofy = 0;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//MAIN///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//checkboxes function
checkboxes.forEach(checkbox => {
    checkbox.addEventListener('change', (e) => {
        const activeFilters = Array.from(checkboxes)
        .filter(c => c.checked)
        .map(c => c.value);

        artItems.forEach(artItem => {
            const img = artItem.querySelector('img');
            const category = img.dataset.category;

            if(activeFilters.includes(category)) {
                displayImageHide();
                artItem.style.display = "inline-block";
            }else{
                artItem.style.display = "none";

                //only let 1 goofy image be created when none displayed
                if(activeFilters.length === 0) {
                    if(numImgGoofy < 1) {
                        displayImage();
                    }
                }
            }
        })
    })
})

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//FUNCTIONS//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//function to display image when user chooses none
function displayImage(){
    var imgContainer = document.getElementById("okayDontChoose");

    imgContainer.style.display = "block";
    numImgGoofy++;
}

//function to hide the displayed image when user chooses art again
function displayImageHide(){
    var imgContainer = document.getElementById("okayDontChoose");

    imgContainer.style.display = "none";
    numImgGoofy = 0;
}